{% extends 'base.html' %}
{% block title %}Resultados de búsqueda{% endblock %}
{% block content %}
<div>
    <h3>Resultados para: {{ search }}</h3>
    <table class="table table-striped table-hover table-bordered rounded" style="width:100%;">
        <thead class="thead-dark">
            <tr>
                <th scope="col" class="text-center align-middle">Nombre</th>
                <th scope="col" class="text-center align-middle">Precio Actual</th>
                <th scope="col" class="text-center align-middle">Precio Anterior</th>
                <th scope="col" class="text-center align-middle">Descuento</th>
                <th scope="col" class="text-center align-middle">Cuotas</th>
                <th scope="col" class="text-center align-middle">Envío</th>
                <th scope="col" class="text-center align-middle">URL Producto</th>
            </tr>
        </thead>
        <tbody>
            {% if info %}
            {% for i in range(info['nombre_producto']|length) %}
            <tr class="h4">
                <td class="align-middle h4">{{info['nombre_producto'][i]}}</td>
                <td class="text-center align-middle font-weight-bold text-success">
                    {{info['precio_actual'][i]}}
                </td>
                <td class="text-center align-middle text-muted">
                    <s>{{info['precio_antes'][i]}}</s>
                </td>
                <td class="text-center align-middle">
                    <span class="badge text-bg-danger">
                        {{info['porcentaje_descuento'][i]}}
                    </span>
                </td>
                <td class="text-center align-middle text-success">
                    {{info['cuotas'][i]}}
                </td>
                <td class="text-center align-middle">
                    {{info['envio'][i]}}
                </td>
                <td class="text-center align-middle text-success text-truncate" style="max-width: 150px;">
                    <a href="{{info['url_ficha'][i]}}" target="_blank">Ir al sitio</a>
                </td>
            </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
    
    <style>
        .rounded {
            border-radius: 10px !important;
            overflow: hidden;
        }
        .table thead th {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .table td {
            font-size: 0.95rem;
        }
        .badge-pill {
            padding: 5px 10px;
            font-size: 0.85rem;
        }
    </style>
</div>
{% endblock %}